{"version":3,"sources":["components/SearchForm/Select.module.css","components/BookList/BookList.module.css","services/book-api.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.js","components/BookListItem/BookListItem.styled.js","components/BookListItem/BookListItem.js","components/BookList/BookList.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","select","list","fetchBooks","query","arguments","length","undefined","gender","startIndex","axios","get","concat","then","res","data","Form","styled","form","_templateObject","Input","input","_templateObject2","Button","button","_templateObject3","SearchForm","state","value","selectedOption","handleChangeInput","e","_this","setState","target","handleChangeSelect","handleSubmit","preventDefault","_this$props","props","resetState","onSubmit","setValue","genres","reset","_this$state","this","react_default","a","createElement","onChange","react_select_esm","className","styles","options","genders","SearchForm_styled_Button","type","Component","Item","li","BookListItem_styled_templateObject","Image","img","BookListItem_styled_templateObject2","Title","h5","BookListItem_styled_templateObject3","Description","p","_templateObject4","Author","_templateObject5","Publisher","_templateObject6","PublishedDate","_templateObject7","PageCount","_templateObject8","BookListItem","_templateObject9","hide","cutString","text","substring","handleShowMore","description","title","authors","publisher","publishedDate","pageCount","imageLinks","src","thumbnail","Fragment","onClick","map","author","key","style","marginRight","defaultProps","BookList","_ref","items","item","BookListItem_BookListItem","Object","assign","id","children","spinnerStyles","position","left","top","transform","mapper","book","volumeInfo","objectSpread","App","books","isLoading","error","isLoadMore","indexIncrement","handleFetchBooks","BooksAPI","_ref2","toConsumableArray","catch","finally","SearchForm_SearchForm","dist_default","name","color","fadeIn","components_BookList_BookList","message","components_Button_Button","bind","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.b23841de.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__2GpZs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BookList_list__3ezp8\"};","import axios from 'axios';\n\nexport const fetchBooks = (\n  query = 'react',\n  gender = 'computers',\n  startIndex = 0,\n) => {\n  return axios\n    .get(\n      `https://www.googleapis.com/books/v1/volumes?q=${query}+subject:${gender}&startIndex=${startIndex}`,\n    )\n    .then(res => res.data);\n};\n\nexport const eslintGoodBuy = () => null;\n\n","import styled from 'styled-components';\n\nexport const Form = styled.form``;\n\nexport const Input = styled.input``;\n\nexport const Button = styled.button``;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { Form, Input, Button } from './SearchForm.styled';\nimport genders from '../../options/genres.json';\nimport styles from './Select.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    resetState: PropTypes.func.isRequired,\n    setValue: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n    selectedOption: '',\n  };\n\n  handleChangeInput = e => this.setState({ value: e.target.value });\n\n  handleChangeSelect = selectedOption => this.setState({ selectedOption });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { resetState, onSubmit, setValue } = this.props;\n    const { value } = this.state;\n    const genres = this.state.selectedOption.value || '';\n    resetState();\n    setValue(value, genres);\n    onSubmit(value, genres);\n    this.reset();\n  };\n\n  reset = () => this.setState({ value: '', selectedOption: '' });\n\n  render() {\n    const { value, selectedOption } = this.state;\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        <Input onChange={this.handleChangeInput} value={value} />\n        <Select\n          className={styles.select}\n          value={selectedOption}\n          onChange={this.handleChangeSelect}\n          options={genders}\n        />\n        <Button type=\"submit\">Search</Button>\n      </Form>\n    );\n  }\n}\n","import styled from 'styled-components';\n\nexport const Item = styled.li`\n  width: 50%;\n`;\n\nexport const Image = styled.img`\n  display: block;\n  height: auto;\n`;\n\nexport const Title = styled.h5`\n  font-size: 18px;\n`;\n\nexport const Description = styled.p``;\n\nexport const Author = styled.p``;\n\nexport const Publisher = styled.p``;\n\nexport const PublishedDate = styled.p``;\n\nexport const PageCount = styled.p``;\n\nexport const Rating = styled.p``;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Item,\n  Image,\n  Title,\n  Description,\n  Author,\n  Publisher,\n  PublishedDate,\n  PageCount,\n} from './BookListItem.styled';\n\nexport default class BookListItem extends Component {\n  state = {\n    hide: false,\n  };\n\n  static propTypes = {\n    title: PropTypes.string,\n    authors: PropTypes.arrayOf(PropTypes.string),\n    description: PropTypes.string,\n    imageLinks: PropTypes.shape({ thumbnail: PropTypes.string }),\n    publisher: PropTypes.string,\n    publishedDate: PropTypes.string,\n    pageCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n\n  componentDidMount() {\n    const { description } = this.props;\n    if (description.length > 80) this.setState({ hide: true });\n  }\n\n  cutString = text => text.substring(0, 80);\n\n  handleShowMore = () => {\n    this.setState({ hide: false });\n  };\n\n  render() {\n    const {\n      title,\n      description,\n      authors,\n      publisher,\n      publishedDate,\n      pageCount,\n      imageLinks,\n    } = this.props;\n    const { hide } = this.state;\n\n    return (\n      <Item>\n        <Image src={imageLinks.thumbnail} />\n        <Title>{title}</Title>\n        {hide ? (\n          <>\n            <Description>{`${this.cutString(description)}...`} </Description>\n            <button type=\"submit\" onClick={this.handleShowMore}>\n              show more\n            </button>\n          </>\n        ) : (\n          <Description>{description}</Description>\n        )}\n\n        <Author>\n          {authors && authors.length > 1\n            ? authors.map(author => (\n                <span key={author} style={{ marginRight: '10px' }}>\n                  {author}\n                </span>\n              ))\n            : authors}\n        </Author>\n        <Publisher>{publisher}</Publisher>\n        <PublishedDate>{publishedDate}</PublishedDate>\n        <PageCount>{pageCount}</PageCount>\n      </Item>\n    );\n  }\n}\n\nBookListItem.defaultProps = {\n  title: 'Sorry! Unknown title',\n  description: 'Sorry! Unknown description',\n  publisher: 'Sorry! Unknown publisher',\n  authors: ['Sorry! Unknown author'],\n  imageLinks:\n    'https://dwsinc.co/wp-content/uploads/2018/05/image-not-found.jpg',\n  publishedDate: 'Sorry! Unknown published date',\n  pageCount: 'Sorry! Unknown page count',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './BookList.module.css';\n\nimport BookListItem from '../BookListItem/BookListItem';\n\nconst BookList = ({ items }) => (\n  <ul className={styles.list}>\n    {items.map(item => (\n      <BookListItem key={item.id} {...item} />\n    ))}\n  </ul>\n);\n\nBookList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.string.isRequired }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = props => (\n  <button onClick={props.onClick}>{props.children}</button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Spinner from 'react-spinkit';\nimport * as BooksAPI from '../services/book-api';\nimport SearchForm from './SearchForm/SearchForm';\nimport BookList from './BookList/BookList';\nimport Button from './Button/Button';\n\nconst spinnerStyles = {\n  position: 'fixed',\n  left: '50%',\n  top: '50%',\n  transform: 'translate(-50%, -50%)',\n};\n\nconst mapper = items => {\n  return items.map(({ volumeInfo: book, id }) => ({\n    ...book,\n    id,\n  }));\n};\n\nexport default class App extends Component {\n  state = {\n    books: [],\n    isLoading: false,\n    error: null,\n    isLoadMore: false,\n    value: '',\n    genres: '',\n    startIndex: 0,\n  };\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    this.handleFetchBooks();\n  }\n\n  indexIncrement = () =>\n    this.setState(state => ({\n      startIndex: state.startIndex + 10,\n    }));\n\n  resetState = () =>\n    this.setState({ isLoadMore: true, books: [], startIndex: 0 });\n\n  setValue = (value, genres) => this.setState({ value, genres });\n\n  handleFetchBooks = (query, genres, startIndex) => {\n    this.setState({ isLoading: true });\n\n    BooksAPI.fetchBooks(query, genres, startIndex)\n      .then(({ items }) => {\n        this.setState(state => ({ books: [...state.books, ...mapper(items)] }));\n        this.indexIncrement();\n      })\n      .catch(error => this.setState({ error, isLoadMore: false }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const {\n      books,\n      isLoading,\n      error,\n      isLoadMore,\n      value,\n      genres,\n      startIndex,\n    } = this.state;\n    return (\n      <>\n        <SearchForm\n          onSubmit={this.handleFetchBooks}\n          resetState={this.resetState}\n          setValue={this.setValue}\n        />\n        {isLoading && (\n          <Spinner\n            name=\"ball-clip-rotate-multiple\"\n            color=\"blue\"\n            fadeIn=\"none\"\n            style={spinnerStyles}\n          />\n        )}\n        {books.length !== 0 && <BookList items={books} />}\n        {error && (\n          <p>\n            Whoops, something went wrong: {error.message}\n            {}\n          </p>\n        )}\n        {books.length !== 0 && isLoadMore && (\n          <Button\n            onClick={this.handleFetchBooks.bind(\n              null,\n              value,\n              genres,\n              startIndex,\n            )}\n          >\n            Load more\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}